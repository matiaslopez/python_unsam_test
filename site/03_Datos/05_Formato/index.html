<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://matiaslopez.github.io/python_unsam_test/03_Datos/05_Formato/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>05 Formato - Programación en Python</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-ABC123"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-ABC123');
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="../..">Programación en Python</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Inicio</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Unidades <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../01_Introduccion/00_Resumen/" class="dropdown-item">01 - Introducción</a>
</li>
                                    
<li>
    <a href="../../02_Estructuras_y_Funciones/00_Resumen/" class="dropdown-item">02 - Estructuras y funciones</a>
</li>
                                    
<li>
    <a href="../00_Resumen/" class="dropdown-item">03 - Trabajando con datos</a>
</li>
                                    
<li>
    <a href="../../04_Listas_y_Listas/00_Resumen/" class="dropdown-item">04 - Algoritmos sobre listas y comprensión de listas</a>
</li>
                                    
<li>
    <a href="../../05_Random_Plt_Dbg/00_Resumen/" class="dropdown-item">05 - Aleatoridad</a>
</li>
                                    
<li>
    <a href="../../06_Organizacion_y_Complejidad/00_Resumen/" class="dropdown-item">06 - Complejidad y Organización de programas</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/00_Resumen/" class="dropdown-item">07 - Diseño, especificación, documentación y estilo</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/00_Resumen/" class="dropdown-item">08 - Fechas, Carpetas y Pandas</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/00_Resumen/" class="dropdown-item">09 - Clases y objetos</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/00_Resumen/" class="dropdown-item">10 - Generadores e iteradores</a>
</li>
                                    
<li>
    <a href="../../11_Recursion/00_Resumen/" class="dropdown-item">11 - Recursión y regresión</a>
</li>
                                    
<li>
    <a href="../../12_Ordenamiento/00_Resumen/" class="dropdown-item">12 - Ordenamiento</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Buscar
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Tabla de contenidos">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#35-impresion-con-formato" class="nav-link">3.5 Impresión con formato</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#ejercicios" class="nav-link">Ejercicios</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p><a href="../Contenidos.md">Contenidos</a> | <a href="../04_IDE/">Anterior (4 Entorno de desarrollo integrado)</a> | <a href="../06_Arboles1/">Próximo (6 Arbolado porteño)</a></p>
<h1 id="35-impresion-con-formato">3.5 Impresión con formato</h1>
<p>En esta sección se ven detalles técnicos sobre cómo hacer que la salida por pantalla sea más amena para el usuario. </p>
<p>Cuando trabajás con datos es usual que quieras imprimir salidas estructuradas (tablas, etc.). Por ejemplo:</p>
<pre><code class="language-code">  Nombre      Cajones     Precio
----------  ----------  -----------
 Lima           100        32.20
 Naranja         50        91.10
 Caqui          150       103.44
 Mandarina      200        51.23
 Durazno         95        40.37
 Mandarina       50        65.10
 Naranja        100        70.44
</code></pre>
<h3 id="formato-de-cadenas">Formato de cadenas</h3>
<p>Una excelente manera de darle formato a una cadena en Python (a partir de la versión 3.6) es usando <code>f-strings</code>.</p>
<pre><code class="language-python">&gt;&gt;&gt; nombre = 'Naranja'
&gt;&gt;&gt; cajones = 100
&gt;&gt;&gt; precio = 91.1
&gt;&gt;&gt; f'{nombre:&gt;10s} {cajones:&gt;10d} {precio:&gt;10.2f}'
'       Naranja        100      91.10'
&gt;&gt;&gt;
</code></pre>
<p>La parte <code>{expresion:formato}</code> va a ser reemplazada. Usualmente los <code>f-strings</code> se usan con <code>print</code>.</p>
<pre><code class="language-python">print(f'{nombre:&gt;10s} {cajones:&gt;10d} {precio:&gt;10.2f}')
</code></pre>
<h3 id="codigos-de-formato">Códigos de formato</h3>
<p>Lo códigos de formato (lo que va luego de <code>:</code> dentro de <code>{}</code>) son similares a los que se usan en el <code>printf()</code> del lenguaje C. Los más comunes son:</p>
<pre><code class="language-code">d       Entero decimal
b       Entero binario
x       Entero hexadecimal
f       Flotante como [-]m.dddddd
e       Flotante como [-]m.dddddde+-xx
g       Flotante, pero con uso selectivo de la notación exponencial E.
s       Cadenas
c       Caracter (a partir de un entero, su código)
</code></pre>
<p>Los modificadores permiten ajustar el ancho a imprimir o la precisión decimal (cantidad de dígitos luego del punto). Ésta es una lista parcial:</p>
<pre><code class="language-code">:&gt;10d   Entero alineado a la derecha en un campo de 10 caracteres
:&lt;10d   Entero alineado a la izquierda en un campo de 10 caracteres
:^10d   Entero centrado en un campo de 10 caracteres
:0.2f   Flotante con dos dígitos de precisión
</code></pre>
<h3 id="formato-a-diccionarios">Formato a diccionarios</h3>
<p>Podés usar el método <code>format_map()</code> para aplicarle un formato a los valores de un diccionario:</p>
<pre><code class="language-python">&gt;&gt;&gt; s = {
    'nombre': 'Naranja',
    'cajones': 100,
    'precio': 91.1
}
&gt;&gt;&gt; '{nombre:&gt;10s} {cajones:10d} {precio:10.2f}'.format_map(s)
'       Naranja        100      91.10'
&gt;&gt;&gt;
</code></pre>
<p>Usa los mismos códigos que los <code>f-strings</code> pero toma los valores que provee el diccionario.</p>
<h3 id="el-metodo-format">El método format()</h3>
<p>Existe un método  <code>format()</code> que permite aplicar formato a argumentos.</p>
<pre><code class="language-python">&gt;&gt;&gt; '{nombre:&gt;10s} {cajones:10d} {precio:10.2f}'.format(nombre='Naranja', cajones=100, precio=91.1)
'       Naranja        100      91.10'
&gt;&gt;&gt; '{:10s} {:10d} {:10.2f}'.format('Naranja', 100, 91.1)
'       Naranja        100      91.10'
&gt;&gt;&gt;
</code></pre>
<p>La verdad es que <code>format()</code> nos resulta un poco extenso y preferimos usar <code>f-strings</code>.</p>
<h3 id="formato-estilo-c">Formato estilo C</h3>
<p>También podés usar el operador  <code>%</code>.</p>
<pre><code class="language-python">&gt;&gt;&gt; 'The value is %d' % 3
'The value is 3'
&gt;&gt;&gt; '%5d %-5d %10d' % (3,4,5)
'    3 4              5'
&gt;&gt;&gt; '%0.2f' % (3.1415926,)
'3.14'
</code></pre>
<p>Esto requiere un solo ítem, o una tupla a la derecha. Los códigos están también inspirados en el <code>printf()</code> de C. Tiene la dificultad de que hay que contar posiciones y todas las variables van juntas al final.</p>
<h2 id="ejercicios">Ejercicios</h2>
<h3 id="ejercicio-312-formato-de-numeros">Ejercicio 3.12: Formato de números</h3>
<p>Un problema usual cuando queremos imprimir números es especificar el número de dígitos decimales. Los f-strings nos permiten hacerlo. Probá los siguientes ejemplos:</p>
<pre><code class="language-python">&gt;&gt;&gt; value = 42863.1
&gt;&gt;&gt; print(value)
42863.1
&gt;&gt;&gt; print(f'{value:0.4f}')
42863.1000
&gt;&gt;&gt; print(f'{value:&gt;16.2f}')
        42863.10
&gt;&gt;&gt; print(f'{value:&lt;16.2f}')
42863.10
&gt;&gt;&gt; print(f'{value:*&gt;16,.2f}')
*******42,863.10
&gt;&gt;&gt;
</code></pre>
<p>La documentación completa sobre los códigos de formato usados en f-strings puede consultarse <a href="https://docs.python.org/3/library/string.html#format-specification-mini-language">acá</a>. El formato puede aplicarse también usando el operador <code>%</code> de cadenas.</p>
<pre><code class="language-python">&gt;&gt;&gt; print('%0.4f' % value)
42863.1000
&gt;&gt;&gt; print('%16.2f' % value)
        42863.10
&gt;&gt;&gt;
</code></pre>
<p>La documentación sobre códigos usados con <code>%</code> puede encontrarse <a href="https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting">acá</a>.</p>
<p>A pesar de que suelen usarse dentro de un <code>print</code>, el formato de cadenas no está necesariamente ligado a la impresión. Por ejemplo, podés simplemente asignarlo a una variable.</p>
<pre><code class="language-python">&gt;&gt;&gt; f = '%0.4f' % value
&gt;&gt;&gt; f
'42863.1000'
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-313-recolectar-datos">Ejercicio 3.13: Recolectar datos</h3>
<p>En el <a href="../../02_Estructuras_y_Funciones/04_Contenedores/#ejercicio-218-balances">Ejercicio 2.18</a>, escribiste un programa llamado <code>informe.py</code> que calculaba las ganancias o pérdidas de un camión que compra a productores y vende en el mercado. Copiá su contenido en un archivo <code>tabla_informe.py</code>. En este ejercicio, vas a comenzar a modificar <code>tabla_informe.py</code> para producir una tabla como ésta:</p>
<pre><code> Nombre     Cajones     Precio     Cambio
---------- ---------- ---------- ----------
 Lima          100        32.2       8.02
 Naranja        50        91.1      15.18
 Caqui         150      103.44       2.02
 Mandarina     200       51.23      29.66
 Durazno        95       40.37      33.11
 Mandarina      50        65.1      15.79
 Naranja       100       70.44      35.84
</code></pre>
<p>En este informe, el "Precio" es el precio en el mercado y el "Cambio" es la variación respecto al precio cobrado por el productor.</p>
<p>Para generar un informe como el de arriba, primero tenés que recolectar todos los datos de la tabla. Escribí una función <code>hacer_informe()</code>
que recibe una lista de cajones y un diccionario con precios como input y devuelve una lista de tuplas conteniendo la información mostrada en la tabla anterior.</p>
<p>Agregá esta función a tu archivo <code>tabla_informe.py</code>. Debería funcionar como se muestra en el siguiente ejemplo:</p>
<pre><code class="language-python">&gt;&gt;&gt; camion = leer_camion('../Data/camion.csv')
&gt;&gt;&gt; precios = leer_precios('../Data/precios.csv')
&gt;&gt;&gt; informe = hacer_informe(camion, precios)
&gt;&gt;&gt; for r in informe:
        print(r)

('Lima', 100, 32.2, 8.019999999999996)
('Naranja', 50, 91.1, 15.180000000000007)
('Caqui', 150, 103.44, 2.019999999999996)
('Mandarina', 200, 51.23, 29.660000000000004)
('Durazno', 95, 40.37, 33.11000000000001)
('Mandarina', 50, 65.1, 15.790000000000006)
('Naranja', 100, 70.44, 35.84)
...
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-314-imprimir-una-tabla-con-formato">Ejercicio 3.14: Imprimir una tabla con formato</h3>
<p>Volvé a hacer el ciclo <code>for</code> del ejercicio anterior pero cambiando la forma de imprimir como sigue:</p>
<pre><code class="language-python">&gt;&gt;&gt; for r in informe:
        print('%10s %10d %10.2f %10.2f' % r)

      Lima        100      32.20       8.02
   Naranja         50      91.10      15.18
     Caqui        150     103.44       2.02
 Mandarina        200      51.23      29.66
   Durazno         95      40.37      33.11
 Mandarina         50      65.10      15.79
   Naranja        100      70.44      35.84
...
&gt;&gt;&gt;
</code></pre>
<p>O directamente usando  f-strings. Por ejemplo:</p>
<pre><code class="language-python">&gt;&gt;&gt; for nombre, cajones, precio, cambio in informe:
        print(f'{nombre:&gt;10s} {cajones:&gt;10d} {precio:&gt;10.2f} {cambio:&gt;10.2f}')

      Lima        100      32.20       8.02
   Naranja         50      91.10      15.18
     Caqui        150     103.44       2.02
 Mandarina        200      51.23      29.66
   Durazno         95      40.37      33.11
 Mandarina         50      65.10      15.79
   Naranja        100      70.44      35.84
...
&gt;&gt;&gt;
</code></pre>
<p>Agregá estos últimos comandos a tu programa <code>tabla_informe.py</code>. Hacé que el programa tome la salida de la función <code>hacer_informe()</code> e imprima una tabla bien formateada.</p>
<h3 id="ejercicio-315-agregar-encabezados">Ejercicio 3.15: Agregar encabezados</h3>
<p>Suponete que tenés una tupla con nombres de encabezado como ésta:</p>
<pre><code class="language-python">headers = ('Nombre', 'Cajones', 'Precio', 'Cambio')
</code></pre>
<p>Agregá el código necesario a tu programa para que tome una tupla de encabezados como la de arriba y cree una cadena donde cada nombre de encabezado esté alineado a la derecha en un campo de 10 caracteres de ancho y separados por un solo espacio.</p>
<pre><code class="language-python">'    Nombre    Cajones     Precio     Cambio'
</code></pre>
<p>Escribí el código que recibe los encabezados y crea una cadena de separación entre los encabezados y los datos que siguen. Esta cadena es simplemente una tira de caracteres "-" bajo cada nombre de campo. Por ejemplo:</p>
<pre><code class="language-python">'---------- ---------- ---------- ----------'
</code></pre>
<p>Cuando esté listo, tu programa debería producir una tabla como esta:</p>
<pre><code>    Nombre    Cajones     Precio     Cambio
---------- ---------- ---------- ----------
      Lima        100      32.20       8.02
   Naranja         50      91.10      15.18
     Caqui        150     103.44       2.02
 Mandarina        200      51.23      29.66
   Durazno         95      40.37      33.11
 Mandarina         50      65.10      15.79
   Naranja        100      70.44      35.84
</code></pre>
<h3 id="ejercicio-316-un-desafio-de-formato">Ejercicio 3.16: Un desafío de formato</h3>
<p>Por último, modificá tu código para que el precio mostrado incluya un símbolo de pesos ($) y la salida se vea como esta tabla:</p>
<pre><code>    Nombre    Cajones     Precio     Cambio
---------- ---------- ---------- ----------
      Lima        100      $32.2       8.02
   Naranja         50      $91.1      15.18
     Caqui        150    $103.44       2.02
 Mandarina        200     $51.23      29.66
   Durazno         95     $40.37      33.11
 Mandarina         50      $65.1      15.79
   Naranja        100     $70.44      35.84
</code></pre>
<p>Guardá estos cambios en el archivo <code>tabla_informe.py</code> que más adelante los vas a necesitar.</p>
<h3 id="ejercicio-317-tablas-de-multiplicar">Ejercicio 3.17: Tablas de multiplicar</h3>
<p>Escribí un programa <code>tablamult.py</code> que imprima de forma prolija las tablas de
multiplicar del 1 al 9 usando f-strings. Si podés, evitá usar la multiplicación, usando sólo sumas alcanza.</p>
<pre><code class="language-python">       0   1   2   3   4   5   6   7   8   9
---------------------------------------------
 0:    0   0   0   0   0   0   0   0   0   0
 1:    0   1   2   3   4   5   6   7   8   9
 2:    0   2   4   6   8  10  12  14  16  18
 3:    0   3   6   9  12  15  18  21  24  27
 4:    0   4   8  12  16  20  24  28  32  36
 5:    0   5  10  15  20  25  30  35  40  45
 6:    0   6  12  18  24  30  36  42  48  54
 7:    0   7  14  21  28  35  42  49  56  63
 8:    0   8  16  24  32  40  48  56  64  72
 9:    0   9  18  27  36  45  54  63  72  81
</code></pre>
<p><a href="../Contenidos.md">Contenidos</a> | <a href="../04_IDE/">Anterior (4 Entorno de desarrollo integrado)</a> | <a href="../06_Arboles1/">Próximo (6 Arbolado porteño)</a></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentación construida con <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Buscar</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span></button>
            </div>
            <div class="modal-body">
                <p>Desde aquí puede buscar estos documentos. Ingrese sus términos de búsqueda a continuación.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Buscando..." id="mkdocs-search-query" title="Escriba el término de búsqueda aquí">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No se encontraron resultados"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Atajos de teclado</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Teclas</th>
                    <th>Acción</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Abrir esta ayuda</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Página siguiente</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Página anterior</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Buscar</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
