<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://matiaslopez.github.io/python_unsam_test/10_Generadores_e_Iteradores/06_PredadorPresa/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>06 PredadorPresa - Programación en Python</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "06 PredadorPresa";
    var mkdocs_page_input_path = "10_Generadores_e_Iteradores/06_PredadorPresa.md";
    var mkdocs_page_url = "/python_unsam_test/10_Generadores_e_Iteradores/06_PredadorPresa/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Programación en Python</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Welcome to MkDocs</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">01 Introduccion</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../01_Introduccion/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../01_Introduccion/01_Python/">01 Python</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../01_Introduccion/02_Hello_world/">02 Hello world</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../01_Introduccion/03_Numeros/">03 Numeros</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../01_Introduccion/04_Strings/">04 Strings</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../01_Introduccion/05_Listas/">05 Listas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../01_Introduccion/06_CierreClase/">06 CierreClase</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">02 Estructuras y Funciones</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../02_Estructuras_y_Funciones/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../02_Estructuras_y_Funciones/01_Archivos/">01 Archivos</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../02_Estructuras_y_Funciones/02_Funciones/">02 Funciones</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../02_Estructuras_y_Funciones/03_TiposDatos/">03 TiposDatos</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../02_Estructuras_y_Funciones/04_Contenedores/">04 Contenedores</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../02_Estructuras_y_Funciones/05_CierreClase/">05 CierreClase</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">03 Datos</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/01_Bugs/">01 Bugs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/02_Secuencias/">02 Secuencias</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/03_Contadores/">03 Contadores</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/04_IDE/">04 IDE</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/05_Formato/">05 Formato</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/06_Arboles1/">06 Arboles1</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../03_Datos/07_CierreClase/">07 CierreClase</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">04 Listas y Listas</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../04_Listas_y_Listas/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../04_Listas_y_Listas/01_Debugger/">01 Debugger</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../04_Listas_y_Listas/02_IteradoresLista/">02 IteradoresLista</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../04_Listas_y_Listas/03_Comprension_Listas/">03 Comprension Listas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../04_Listas_y_Listas/04_Objetos/">04 Objetos</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../04_Listas_y_Listas/05_Arboles2_LC/">05 Arboles2 LC</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../04_Listas_y_Listas/06_Cierre/">06 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">05 Random Plt Dbg</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../05_Random_Plt_Dbg/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../05_Random_Plt_Dbg/01_Random/">01 Random</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../05_Random_Plt_Dbg/02_NumPy_Arrays/">02 NumPy Arrays</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../05_Random_Plt_Dbg/03_Figuritas/">03 Figuritas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../05_Random_Plt_Dbg/04_Arboles3_plt/">04 Arboles3 plt</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../05_Random_Plt_Dbg/05_Cierre/">05 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">06 Organización y Complejidad</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/01_Repaso/">01 Repaso</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/02_Scripts/">02 Scripts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/03_Funciones/">03 Funciones</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/04_Modulos/">04 Modulos</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/05_BusqBinaria/">05 BusqBinaria</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/06_Complejidad/">06 Complejidad</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/07_gr%C3%A1ficos_de_complejidad/">07 gráficos de complejidad</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../06_Organizaci%C3%B3n_y_Complejidad/08_Cierre/">08 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">07 Plt Especificacion y Documentacion</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/01_Repaso/">01 Repaso</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/02_Excepciones/">02 Excepciones</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/03_Modulo_principal/">03 Modulo principal</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/04_Flexibilidad/">04 Flexibilidad</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/05_Especificacion_y_Documentacion/">05 Especificacion y Documentacion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/06_Estilo/">06 Estilo</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/07_Matplotlib/">07 Matplotlib</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../07_Plt_Especificacion_y_Documentacion/08_Cierre/">08 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">08 Fechas Carpetas y Pandas</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/01_Intro/">01 Intro</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/02_Fechas/">02 Fechas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/03_Archivos_y_Directorios/">03 Archivos y Directorios</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/04_Ordenando_archivos/">04 Ordenando archivos</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/05_Pandas/">05 Pandas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/06_Series_Temporales/">06 Series Temporales</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../08_Fechas_Carpetas_y_Pandas/07_Cierre/">07 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">09 Clases y Objetos</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/01_Intro/">01 Intro</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/02_Clases/">02 Clases</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/03_Herencia/">03 Herencia</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/04_M%C3%A9todos_Especiales/">04 Métodos Especiales</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/05_Pilas_Colas/">05 Pilas Colas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/06_Teledeteccion/">06 Teledeteccion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../09_Clases_y_Objetos/07_Cierre/">07 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">10 Generadores e Iteradores</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../01_Intro/">01 Intro</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../02_protocolo_Iteracion/">02 protocolo Iteracion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../03_iteracion_a_medida/">03 iteracion a medida</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../04_Producers_consumers/">04 Producers consumers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../05_Mas_generadores/">05 Mas generadores</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">06 PredadorPresa</a>
    <ul class="current">
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../07_Cierre/">07 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">11 Recursion</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../11_Recursion/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../11_Recursion/01_Introduccion/">01 Introduccion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../11_Recursion/02_Recursion/">02 Recursion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../11_Recursion/03_Diseno_Recursivo/">03 Diseno Recursivo</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../11_Recursion/05_EjerciciosRec/">05 EjerciciosRec</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../11_Recursion/05_Regresion_Lineal/">05 Regresion Lineal</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../11_Recursion/06_Cierre/">06 Cierre</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">12 Ordenamiento</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../12_Ordenamiento/00_Resumen/">00 Resumen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../12_Ordenamiento/01_Introduccion/">01 Introduccion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../12_Ordenamiento/02_Ordenamiento_sencillo/">02 Ordenamiento sencillo</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../12_Ordenamiento/03_Divide_and_Conquer/">03 Divide and Conquer</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../12_Ordenamiento/04_introduccion_al_AA/">04 introduccion al AA</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../12_Ordenamiento/05_Cierre/">05 Cierre</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Programación en Python</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>10 Generadores e Iteradores &raquo;</li>
        
      
    
    <li>06 PredadorPresa</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <p><a href="../Contenidos.md">Contenidos</a> | <a href="../05_Mas_generadores/">Anterior (5 Más sobre generadores)</a> | <a href="../07_Cierre/">Próximo (7 Cierre de la clase)</a></p>
<h1 id="106-predador-presa">10.6 Predador Presa</h1>
<p>En este <a href="https://youtu.be/mGBxvPtMkW4">video</a> introducimos el tema de esta sección.</p>
<p>Los <a href="https://es.wikipedia.org/wiki/Ecuaciones_Lotka%E2%80%93Volterra">modelos de depredación y competencia</a> forman parte de la batería de herramientas clásicas del ecólogo. Vito Volterra en Italia y Alfred Lotka en Estados Unidos fueron los precursores en este tema y crearon modelos que, con diversas modificaciones y mejoras, seguimos usando hoy en día.
El modelo de Volterra para depredación comienza suponiendo la existencia de dos poblaciones de animales, una de las cuales (el depredador) se alimenta de la otra (la presa). Se supone que las dos poblaciones están formadas por individuos idénticos, mezclados en el espacio.</p>
<p>La gran mayoría de los modelos usualmente estudiados tienen solamente en cuenta la dinámica temporal, desatendiendo la dinámica espacial. Con la excusa de implementar una versión espacio-temporal de este modelo, proponemos un ejercicio guiado que usa fuertemente programación orientada a objetos.</p>
<p>Lo que sigue es un ejercicio optativo. Como decíamos, el ejercicio está muy guiado y toda la estructura del modelo está basada en objetos. La idea es recrear un mundo que imaginaremos como un valle rodeado de montañas en el que existen depredadores (que llamaremos Leones) y presas (que llamaremos Antílopes). Este valle será bidimensional, y lo representaremos por medio de una grilla rectangular que llamaremos tablero.</p>
<p>El modelo inicial con el que trabajaremos tiene definidas 4 etapas que determinan un ciclo:</p>
<ul>
<li>
<p><strong>Etapa de movimiento</strong>: en esta etapa cada animal se desplaza a alguna posición vecina desocupada (si es que existe, sino permanece en el lugar). La decisión de a cuál desplazarse será responsabilidad del animal, que, sabiendo las disponibles, elegirá una al azar.</p>
</li>
<li>
<p><strong>Etapa de alimentación</strong>: en esta etapa los animales se alimentan. Los antílopes comerán pasto en su lugar, mientras que los leones buscarán un antílope en las posiciones vecinas y, de existir, se lo comerán. Esta acción de un león se verá reflejada en el tablero con su desplazamiento a la posición del antílope, el cual ya no será más parte de nuestro mundo.</p>
</li>
<li>
<p><strong>Etapa de reproducción</strong>: cada animal buscará en sus posiciones vecinas alguien de su misma especie. Si lo encuentra y además hay una posición vacía en el tablero se incluirá un nuevo animal (de la misma especie) en el tablero. Nuevamente la elección de la pareja y del lugar del nuevo animal serán aleatorias. Este modelo inicial no prevee el atributo sexo, ni un límite entre la cantidad reproducciones en las que puede participar un animal por etapa.</p>
</li>
<li>
<p><strong>Cierre de ciclo</strong>: en la última etapa de un ciclo todos los animales "envejecen" en 1 unidad, aquellos que se reprodujeron y siguen en edad reproductiva vuelven a ser fértiles. Si alguno alcanzó la edad máxima de su especie se considera que ya puede retirárselo del mundo (es decir, se muere). Sucede lo mismo si, al pasar una etapa, alcanza el límite de etapas sin alimentarse, en cuyo caso muere de hambre.</p>
</li>
</ul>
<h1 id="clases-del-modelo-inicial">Clases del modelo inicial:</h1>
<p>El modelo inicial te lo podés bajar de <a href="../modelo.zip">acá</a>. Ya tiene definidas la clase <code>Animal</code> de la que heredan dos nuevas clases: <code>León</code> y <code>Antílope</code>. También tiene definida una clase <code>Tablero</code>. Todas estas clases se integran en una clase <code>Mundo</code>. Vamos a ver una por una estas clases y te indicaremos algunos métodos faltantes que tendrás que implementar vos y otros que te proponemos mejorar.</p>
<h2 id="animales">Animales</h2>
<p>Esta clase está definida en el archivo <code>animal.py</code>.</p>
<p>La clase <code>Animal</code> será una clase abstracta, de la cual heredarán la clase León y la clase Antílope. Los métodos y atributos comunes que representen a un animal deberán estar en esta clase.</p>
<h3 id="constructor">Constructor</h3>
<p>El constructor no recibe parámetros, sólo instancia los atributos iniciales. En esta documentación se instancian algunos.</p>
<pre><code class="language-python">    def __init__(self):
        super(Animal, self).__init__()
        self.edad = 0
        self.energia = self.energia_maxima # cantidad de ciclos que aguanta sin alimentarse
</code></pre>
<h3 id="consultas">Consultas</h3>
<p>A continuación se muestran los métodos para obtener información del animal. Es importante notar que un animal en sí, no es ni León ni Antílope, por eso ambas preguntas devuelven <code>False</code>.</p>
<p>Estos métodos definen a su vez el comportamiento, no siendo unicamente una observación de las variables, sino que definen que un animal está vivo únicamente si no alcanzó la edad máxima y además no pasó el límite de tiempo que puede estar sin alimentarse.</p>
<p>Lo mismo sucede con <code>tiene_hambre</code> que podría modificarse para que un animal que ya se alimentó no necesite alimentarse instantáneamente. Se pueden agregar métodos como <code>puede_tener_cria</code> y cualquier otra consulta que sea pertinente para un animal.</p>
<pre><code class="language-python">    def en_vida(self):
        return (self.edad &lt;= self.edad_maxima) and self.energia &gt; 0

    def tiene_hambre(self):
        &quot;&quot;&quot;Acá se puede poner comportamiento para que no tenga hambre todo el tiempo
        debería depender de la diferencia entre su nivel de energía y su energía máxima&quot;&quot;&quot;
        return True

    def es_leon(self):
        return False

    def es_antilope(self):
        return False
</code></pre>
<h3 id="modificadores">Modificadores</h3>
<p>A continuación presentamos algunos métodos modificadores del objeto.</p>
<pre><code class="language-python">    def pasar_un_ciclo(self):
        self.energia -= 1 # consume energía
        self.edad += 1    # envejece 
        if self.edad &gt;= 2 and self.reproducciones_pendientes &gt; 0:
            self.es_reproductore = True #se puede reproducir

    def tener_cria(self):
        &quot;&quot;&quot;Acá se puede poner comportamiento que sucede al tener cria
        y que evita que tengas más de una cria por ciclo, ¿quizas tener_cria consume más energía que un ciclo común?&quot;&quot;&quot;
        pass

    def alimentarse(self, animales_vecinos = None):
        self.energia = self.energia_maxima
        return None

    def reproducirse(self, vecinos, lugares_libres):
        pos = None
        if vecinos:
            pareja = random.choice(vecinos)
            if lugares_libres:
                self.tener_cria()
                pareja.tener_cria()
                pos = random.choice(lugares_libres)

        return pos

    def moverse(self, lugares_libres):
        pos = None
        if lugares_libres:
            pos = random.choice(lugares_libres)
        return pos
</code></pre>
<h2 id="leon">León</h2>
<p>Al heredar de <code>Animal</code>, la clase <code>Leon</code> es pequeña:</p>
<pre><code class="language-python">class Leon(Animal):
</code></pre>
<p>Todas los métodos y atributos definidos allí están disponibles. Se hace un <em>override</em> del metodo <code>es_leon</code> para aclarar que en este caso SÍ es un león. Y como el león es carnívoro, también se extiende el método alimentarse que sólo sucede cuando puede comer.</p>
<pre><code class="language-python">    def __init__(self):
        super(Leon, self).__init__()
        self.autonomia = 3
        self.edad_maxima = 5

    def es_leon(self):
        return True

    def alimentarse(self, animales_vecinos):
        # Se alimenta si puede e indica la posición del animal que se pudo comer
        pos = None
        if self.tiene_hambre(): # no está lleno
            presas_cercanas = [ (pos,animal) for (pos, animal) in animales_vecinos if animal.es_antilope() ]
            if presas_cercanas: # y hay presas cerca
                super(Leon, self).alimentarse()
                (pos, animal) = random.choice(presas_cercanas)

        return pos

</code></pre>
<h3 id="ejemplo-un-leon">Ejemplo: Un León</h3>
<p>Probá las siguientes instrucciones:</p>
<pre><code class="language-python">L = Leon()
L.energia
L.edad
L.es_leon()
L.es_antilope()
L.pasar_un_ciclo()
L.energia
L.edad
L.tiene_hambre()
</code></pre>
<h2 id="antilope">Antílope</h2>
<p>La clase <code>Antilope</code> es más pequeña aún y unicamente indica que es un Antílope. Acá se asume fuertemente que el antílope come pasto y que pasto hay siempre.</p>
<pre><code class="language-python">    def __init__(self):
        self.autonomia = 8
        self.edad_maxima = 8
        super(Antilope, self).__init__()

    def es_antilope(self):
        return True
</code></pre>
<h3 id="ejemplo-un-leon-y-dos-antilopes">Ejemplo: Un León y dos Antílopes</h3>
<p>Agregá ahora dos antílopes:</p>
<pre><code class="language-python">A1 = Antilope()
A2 = Antilope()
A1.energia
A1.edad
A1.es_antilope()
</code></pre>
<p>Y hacé que el León, que ya tiene hambre, se coma alguno de los dos antílopes (aleatoriamente):</p>
<pre><code class="language-python">vecinos = [(1,A1),(2,A2)]
pos = L.alimentarse(vecinos)
if pos:
    print(f'El león se come al antílope A{pos}')
else:
    print(f'El león no come')
</code></pre>
<p>Fijate que el método alimentarse no mata al antílope, solo devuelve su posición. <em>Alguien más</em> deberá ocuparse de retirarlo del mundo.</p>
<p>Si corrés este código varias veces, vas a ver que el León obtiene energía máxima al comer, pero sigue comiendo. Implementá adecuadamente el método <code>tiene_hambre()</code> de la clase <code>Animal</code> de manera que solo tenga hambre cuando su energía baje. Volvé a probar el código. El león debería comer solo cuando pase al menos un ciclo desde la última vez que comió.</p>
<h3 id="ejemplo-un-leon-y-una-leona">Ejemplo: Un León y una Leona</h3>
<p>Definamos ahora una leona <code>M</code> y hagamos que pasen unos ciclos hasta que sea reproductora.</p>
<pre><code class="language-python">M = Leon()
M.puede_reproducir()
M.pasar_un_ciclo()
M.puede_reproducir()
</code></pre>
<p>Repetí hasta que <code>L</code> y <code>M</code> sean reproductores.</p>
<p>Luego ponelos cerca. Digamos que <code>M</code> tiene como vecinos a los dos antílopes y al león <code>L</code> de antes. Supongamos que las crias pueden ocupar algunos lugares libres en nuestro mundo (aún no definido):</p>
<pre><code class="language-python">vecinos = [L]
lugares_libres = [4,5,6,7,8]
L.puede_reproducir()
M.puede_reproducir()
</code></pre>
<p>Están dadas las condiciones, que se reproduzcan:</p>
<pre><code class="language-python">pos = M.reproducirse(vecinos, lugares_libres)
print(f'nace un nuevo leoncito en la posición {pos}')
M.puede_reproducir()
M.pasar_un_ciclo()
M.puede_reproducir()
</code></pre>
<p>Vemos que el método <code>reproducirse</code> nos devuelve una de las posiciones que le dijimos que estaban libres y que los leones no pueden volverse a reproducir en el mismo ciclo pero sí en el siguiente.</p>
<p>Pasemos ahora a ver cómo se estructura el tablero.</p>
<h2 id="el-tablero">El tablero</h2>
<h3 id="constructor_1">Constructor</h3>
<p>La clase tablero tendrá un único constructor que recibirá los atributos que darán lugar al tablero del tamaño deseado:</p>
<pre><code class="language-python">    def __init__(self, filas, columnas):
        super(Tablero, self).__init__()
        self.filas = filas
        self.columnas = columnas
        self.posiciones = {}
        self.n_posiciones_libres = self.filas * self.columnas
</code></pre>
<p>Esta clase tendrá 4 atributos: el número de filas, el de columnas, un diccionario donde se almacenará el contenido, y la cantidad de celdas vacías. El diccionario tendrá unicamente las posiciones con algún contenido. La cantidad de celdas vacías es un atributo que podría calcularse a partir de los 3 primeros atributos, pero se decidió tenerlo precalculado por ser un valor que se usará mucho.</p>
<h3 id="modificadores_1">Modificadores</h3>
<p>El tablero no tiene una gran complejidad, permite ser modificado de 2 maneras: ubicar un elemento en el tablero, y retirar un elemento del tablero. Se provee además de la funcionalidad que combina estas cosas bajo el nombre de mover (cambia de lugar un elemento).</p>
<pre><code class="language-python">    def ubicar(self,  pos, elem):
        if not self.ocupada(pos):
            self.n_posiciones_libres -= 1
        self.posiciones[pos] = elem
        return pos in self.posiciones

    def retirar(self, pos):
        self.n_posiciones_libres += 1
        return self.posiciones.pop(pos)

    def mover(self, p_origen, p_destino):
        self.ubicar(p_destino, self.retirar(p_origen))
</code></pre>
<h3 id="getters">Getters</h3>
<p>Además la clase tablero provee métodos para consultar sobre estado de posiciones y los valores que se encuentran en el tablero.</p>
<pre><code class="language-python">    def posicion(self, pos):
        #devuele qué hay en pos
        return self.posiciones[pos]

    def ocupada(self,  pos):
        return pos in self.posiciones

    def libre(self,  pos):
        return pos not in self.posiciones

    def elementos(self):
        return list(self.posiciones.values())

    def hay_posiciones_libres(self):
        return self.n_posiciones_libres &gt; 0

</code></pre>
<h3 id="modificadores-complejos">Modificadores complejos</h3>
<p>Una de las funcionalidades deseables para que se pueda usar un tablero, es la posibilidad de ubicar al azar un elemento en algún lugar del mismo (que esté libre). El tablero provee esa funcionalidad:</p>
<pre><code class="language-python">    def ubicar_en_posicion_vacia(self, elem):
        if not self.hay_posiciones_libres():
            raise RuntimeError(&quot;Estás intentado agregar algo al tablero y está lleno&quot;)

        pos = choice(self.posiciones_libres())
        self.ubicar(pos, elem)
</code></pre>
<h3 id="consultas_1">Consultas</h3>
<p>También ofrece consultas más complejas:</p>
<pre><code class="language-python">    def posiciones_ocupadas(self):
        res = []
        for f in range(self.filas):
            for c in range(self.columnas):
                if self.ocupada((f,c)):
                    res.append((f,c))

        return res

    def posiciones_libres(self):
        res = []
        for f in range(self.filas):
            for c in range(self.columnas):
                if self.libre((f,c)):
                    res.append((f,c))

        return res

    def posiciones_vecinas_libre(self, pos):
        res = self.posiciones_vecinas(pos)
        res = [ p for p in res if self.libre(p)]

        return res

    def posiciones_vecinas_con_ocupantes(self, pos):
        res = self.posiciones_vecinas(pos)
        res = [ (p, self.posicion(p)) for p in res if self.ocupada(p)]

        return res
</code></pre>
<h3 id="auxiliares">Auxiliares</h3>
<p>El método <code>posiciones_vecinas</code> es el que define la topología del terreno. En este caso, una celda tiene como vecinos a las 8 celdas con las que comparte un borde o un vértice (excepto en los bordes). Es posible modificar la dinámica del mundo modificando esta función (por ejemplo, hacerlo cilíndrico, esférico o toroidal).</p>
<pre><code class="language-python">    def posiciones_vecinas(self, pos):
        desp=[(-1, -1), (-1, 0), (-1, 1),(0, 1), (1, 1), (1, 0),(1, -1), (0, -1)]

        for i in range(len(desp)):
            f = (desp[i][0] + pos[0])
            c = (desp[i][1] + pos[1])
            desp[i] = (f, c)

        desp = [ (f,c) for f,c in desp if (0&lt;=f and f&lt;self.filas) and (0&lt;=c and c&lt;self.columnas) ]

        return desp
</code></pre>
<p>Se pueden definir como adyacentes sólo las que compartan un borde, o las que estén a 2 celdas de distancia, incluso es posible definir que en el borde del tablero vuelva a empezar del otro lado (condiciones periódicas).</p>
<h2 id="el-mundo">El mundo</h2>
<p>El mundo será el encargado de hacer un tablero que usará de soporte, llenarlo de animales y ordenarlos para que se comporten de cierta forma en cada etapa que se implemente.</p>
<h3 id="constructor_2">Constructor</h3>
<p>En el constructor se define el tamaño del mundo, la cantidad inicial de Leones y Antílopes, tiene la opción de que imprima información de lo que va sucediendo con el parámetro <code>debug</code>.</p>
<pre><code class="language-python">    def __init__(self, columnas, filas, n_leones, n_antilopes, debug=False):
        super(Mundo, self).__init__()

        self.debug = debug

        self.ciclo = 0
        self.tablero = Tablero(filas, columnas)
        self.llenar_mundo(n_leones, n_antilopes)
</code></pre>
<p>El constructor delega la tarea de llenar el tablero al método <code>llenar_mundo</code>:</p>
<pre><code class="language-python">    def llenar_mundo(self, n_leones, n_antilopes):
        for _ in range(n_leones):
            if self.tablero.hay_posiciones_libres():
                print_debug(&quot;ubicando un leon&quot;, self.debug)
                self.tablero.ubicar_en_posicion_vacia(Leon())

        for _ in range(n_antilopes):
            if self.tablero.hay_posiciones_libres():
                print_debug(&quot;ubicando un Antilope&quot;, self.debug)
                self.tablero.ubicar_en_posicion_vacia(Antilope())
</code></pre>
<h3 id="modelado-de-la-dinamica">Modelado de la dinámica</h3>
<p>En la etapa de movimiento, para cada posición ocupada del tablero, se indican cuales son sus vecinos libres y se lo manda a moverse, en caso de que el animal responda con una posición, se lo mueve a la posición indicada.</p>
<pre><code class="language-python">    def etapa_movimiento(self):
        print_debug(f&quot;Iniciando Movimiento en ciclo {self.ciclo}&quot;, self.debug)
        for p in self.tablero.posiciones_ocupadas():
            animal = self.tablero.posicion(p)

            posiciones_libres = self.tablero.posiciones_vecinas_libre(p)
            nueva_posicion = animal.moverse(posiciones_libres)
            if nueva_posicion:
                self.tablero.mover(p, nueva_posicion)
</code></pre>
<p>En la etapa de alimentación, es similar a la anterior, salvo que se indican cuales son sus vecinos ocupados y se los manda a alimentarse, en caso de que el animal responda con una posición, se lo mueve a la posición indicada.</p>
<pre><code class="language-python">    def etapa_alimentacion(self):
        print_debug(f&quot;Iniciando Alimentación en ciclo {self.ciclo}&quot;, self.debug)
        for p in self.tablero.posiciones_ocupadas():
            animal = self.tablero.posicion(p)
            animales_cercanos = self.tablero.posiciones_vecinas_con_ocupantes(p)
            desplazo = animal.alimentarse(animales_cercanos)
            if desplazo:
                self.tablero.ubicar(desplazo, self.tablero.retirar(p))
</code></pre>
<p>La etapa de reproducción no está implementada. Más adelante te pediremos que la implementes. Se deben pasar los animales vecinos. En este punto se debe realizar una importante decisión de modelado. ¿Quién es el encargado de que sólo se apareen animales de la misma especie? ¿El mundo?¿O cada animal?
En base a esto se deberá quizás modificar código existente.</p>
<pre><code class="language-python">    def etapa_reproduccion(self):
        print_debug(f&quot;Iniciando Reproducción en ciclo {self.ciclo}&quot;, self.debug)
        pass
</code></pre>
<p>Finalmente el método que cierra un ciclo haciendo que todos los animales cumplan años, gasten energía y retirando los que ya no están con vida.</p>
<pre><code class="language-python">    def cerrar_un_ciclo(self):
        print_debug(f&quot;Concluyendo ciclo {self.ciclo}&quot;, self.debug)
        for p in self.tablero.posiciones_ocupadas():
            animal = self.tablero.posicion(p)
            animal.pasar_un_ciclo() #envejecer, consumir alimento
            if not animal.en_vida():
                self.tablero.retirar(p)
        self.ciclo += 1
</code></pre>
<p>Los 4 métodos están para ser llamados todos juntos con:</p>
<pre><code class="language-python">    def pasar_un_ciclo(self):
        self.etapa_movimiento()
        self.etapa_alimentacion()
        self.etapa_reproduccion()
        self.cerrar_un_ciclo()
</code></pre>
<h2 id="probando-el-modelo-completo">Probando el modelo completo</h2>
<p>Una forma para probar el funcionamiento es tener el siguiente código que corre el mundo varias veces con una pausa de tiempo para poder verlo.</p>
<pre><code class="language-python">m = Mundo(12, 6, 5, 15, debug=True)

import time
for i in range(20):
    m.pasar_un_ciclo()
    time.sleep(2)
    print(i +1)
    print(m)
</code></pre>
<p>Para empezar a explorar más en serio el modelo deberías completar los métodos que estén indicados con <code>pass</code> y otros detalles, según te indicamos en los siguientes ejercicios. Agregá además cualquier método que consideres necesario para obtener información, o modelar algún comportamiento.</p>
<h3 id="ejercicio-1017-etapa-de-reproduccion">Ejercicio 10.17: Etapa de reproducción</h3>
<p>Implementá el método <code>etapa_reproduccion</code> en la clase <code>Mundo</code>.</p>
<h3 id="ejercicio-1018-acotando-la-reproduccion">Ejercicio 10.18: Acotando la reproducción</h3>
<p>Implementá la lógica necesaria para que los animales pueden reproducirse únicamente una vez por año (ya sean los que inician la reproducción o los que son compañeres).</p>
<h3 id="ejercicio-1019-alcanzando-la-madurez">Ejercicio 10.19: Alcanzando la madurez</h3>
<p>Implementá la lógica necesaria para que un animal sólo puede reproducirse cuando ya tiene 2 años cumplidos.</p>
<p>Si llegaste hasta acá, por favor guardá todo junto en un solo archivo <code>simulacion.py</code> y entregalo al finalizar la clase.</p>
<p>Una vez realizado esto hay diversas opciones para usarlo y expandirlo.</p>
<h3 id="extensiones-del-modelo">Extensiones del modelo</h3>
<p>A continuación una lista no exhaustiva de las extensiones posibles al modelo, podés incorporar algunas, o todas:</p>
<ul>
<li>
<p>Ningún animal se alimenta más de una vez en una etapa. Modifića el método <code>tiene_hambre()</code> de la clase <code>Animal</code> para que no siempre tenga hambre.</p>
</li>
<li>
<p>Si un animal se alimenta en una etapa, no necesita alimentarse más por un turno entero.</p>
</li>
<li>
<p>Cuando un León ataca un Antílope, no siempre se lo come, a veces el Antílope logra escapar. Modelar esto con 3 posibles escenarios:</p>
<ul>
<li>
<p>Existe una probabilidad p (fija), de que el León tenga éxito (con el módulo <code>random</code> se puede hacer <code>random.random() &gt; p</code>)</p>
</li>
<li>
<p>La probabilidad es variable dependiendo de la edad del León, siendo muy baja cuando es cachorro, alta cuando es adulto, y baja de nuevo en su vejez.</p>
</li>
<li>
<p>La probabilidad es variable dependiendo de la edad del León, igual al anterior, y la edad del Antílope, siendo la probabilidad de que escape muy baja cuando es cachorro, alta cuando es adulto, y baja de nuevo en su vejez. Una forma de calcular esto es: <img alt="\begin{align*}
p_{comer} = p_{leon}(edadLeon) \times (1 - p_{antilope}(edadAntilope))
\end{align*}
" src="https://render.githubusercontent.com/render/math?math=%5Cdisplaystyle+%5Cbegin%7Balign%2A%7D%0Ap_%7Bcomer%7D+%3D+p_%7Bleon%7D%28edadLeon%29+%5Ctimes+%281+-+p_%7Bantilope%7D%28edadAntilope%29%29%0A%5Cend%7Balign%2A%7D%0A" /></p>
</li>
<li>
<p>Se puede hacer uso de los vecinos para modificar esta probabilidad, entonces si los Antílopes están en manada, que la probabilidad de comer del León sea más baja aún.</p>
</li>
</ul>
</li>
<li>
<p>Extender la vecindad a un radio de 2 para todos los animales.</p>
</li>
<li>
<p>Extender la vecindad para distinto radio dependiendo la especie.</p>
</li>
<li>
<p>Que el Antílope pueda visualizar Leones a cierta distancia (ej. radio 3), y desplazarse en otra dirección.</p>
</li>
</ul>
<h3 id="exploraciones">Exploraciones</h3>
<ul>
<li>
<p>Analizar distintos valores para la construcción del mundo a lo largo del tiempo. ¿Es posible encontrar un equilibrio entre la cantidad de leones y antílopes?</p>
</li>
<li>
<p>¿Qué sucede con la supervivencia si se modifican los atributos propios de la clase León y Antílope de manera de que tengan mayor (o menor) autonomía, o sean más longevos?</p>
</li>
<li>
<p>¿Se detectan ciclos de mayoría de una especie y después de la otra?¿Hay dominación?</p>
</li>
</ul>
<p><a href="../Contenidos.md">Contenidos</a> | <a href="../05_Mas_generadores/">Anterior (5 Más sobre generadores)</a> | <a href="../07_Cierre/">Próximo (7 Cierre de la clase)</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../07_Cierre/" class="btn btn-neutral float-right" title="07 Cierre">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../05_Mas_generadores/" class="btn btn-neutral" title="05 Mas generadores"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../05_Mas_generadores/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../07_Cierre/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
