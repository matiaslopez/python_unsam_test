<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://matiaslopez.github.io/python_unsam_test/11_Recursion/02_Recursion/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>02 Recursion - Programaci칩n en Python</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Programaci칩n en Python</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Welcome to MkDocs</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">01 Introduccion <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../01_Introduccion/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../01_Introduccion/01_Python/" class="dropdown-item">01 Python</a>
</li>
                                    
<li>
    <a href="../../01_Introduccion/02_Hello_world/" class="dropdown-item">02 Hello world</a>
</li>
                                    
<li>
    <a href="../../01_Introduccion/03_Numeros/" class="dropdown-item">03 Numeros</a>
</li>
                                    
<li>
    <a href="../../01_Introduccion/04_Strings/" class="dropdown-item">04 Strings</a>
</li>
                                    
<li>
    <a href="../../01_Introduccion/05_Listas/" class="dropdown-item">05 Listas</a>
</li>
                                    
<li>
    <a href="../../01_Introduccion/06_CierreClase/" class="dropdown-item">06 CierreClase</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">02 Estructuras y Funciones <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../02_Estructuras_y_Funciones/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../02_Estructuras_y_Funciones/01_Archivos/" class="dropdown-item">01 Archivos</a>
</li>
                                    
<li>
    <a href="../../02_Estructuras_y_Funciones/02_Funciones/" class="dropdown-item">02 Funciones</a>
</li>
                                    
<li>
    <a href="../../02_Estructuras_y_Funciones/03_TiposDatos/" class="dropdown-item">03 TiposDatos</a>
</li>
                                    
<li>
    <a href="../../02_Estructuras_y_Funciones/04_Contenedores/" class="dropdown-item">04 Contenedores</a>
</li>
                                    
<li>
    <a href="../../02_Estructuras_y_Funciones/05_CierreClase/" class="dropdown-item">05 CierreClase</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">03 Datos <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../03_Datos/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../03_Datos/01_Bugs/" class="dropdown-item">01 Bugs</a>
</li>
                                    
<li>
    <a href="../../03_Datos/02_Secuencias/" class="dropdown-item">02 Secuencias</a>
</li>
                                    
<li>
    <a href="../../03_Datos/03_Contadores/" class="dropdown-item">03 Contadores</a>
</li>
                                    
<li>
    <a href="../../03_Datos/04_IDE/" class="dropdown-item">04 IDE</a>
</li>
                                    
<li>
    <a href="../../03_Datos/05_Formato/" class="dropdown-item">05 Formato</a>
</li>
                                    
<li>
    <a href="../../03_Datos/06_Arboles1/" class="dropdown-item">06 Arboles1</a>
</li>
                                    
<li>
    <a href="../../03_Datos/07_CierreClase/" class="dropdown-item">07 CierreClase</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">04 Listas y Listas <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../04_Listas_y_Listas/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../04_Listas_y_Listas/01_Debugger/" class="dropdown-item">01 Debugger</a>
</li>
                                    
<li>
    <a href="../../04_Listas_y_Listas/02_IteradoresLista/" class="dropdown-item">02 IteradoresLista</a>
</li>
                                    
<li>
    <a href="../../04_Listas_y_Listas/03_Comprension_Listas/" class="dropdown-item">03 Comprension Listas</a>
</li>
                                    
<li>
    <a href="../../04_Listas_y_Listas/04_Objetos/" class="dropdown-item">04 Objetos</a>
</li>
                                    
<li>
    <a href="../../04_Listas_y_Listas/05_Arboles2_LC/" class="dropdown-item">05 Arboles2 LC</a>
</li>
                                    
<li>
    <a href="../../04_Listas_y_Listas/06_Cierre/" class="dropdown-item">06 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">05 Random Plt Dbg <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../05_Random_Plt_Dbg/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../05_Random_Plt_Dbg/01_Random/" class="dropdown-item">01 Random</a>
</li>
                                    
<li>
    <a href="../../05_Random_Plt_Dbg/02_NumPy_Arrays/" class="dropdown-item">02 NumPy Arrays</a>
</li>
                                    
<li>
    <a href="../../05_Random_Plt_Dbg/03_Figuritas/" class="dropdown-item">03 Figuritas</a>
</li>
                                    
<li>
    <a href="../../05_Random_Plt_Dbg/04_Arboles3_plt/" class="dropdown-item">04 Arboles3 plt</a>
</li>
                                    
<li>
    <a href="../../05_Random_Plt_Dbg/05_Cierre/" class="dropdown-item">05 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">06 Organizaci칩n y Complejidad <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/01_Repaso/" class="dropdown-item">01 Repaso</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/02_Scripts/" class="dropdown-item">02 Scripts</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/03_Funciones/" class="dropdown-item">03 Funciones</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/04_Modulos/" class="dropdown-item">04 Modulos</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/05_BusqBinaria/" class="dropdown-item">05 BusqBinaria</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/06_Complejidad/" class="dropdown-item">06 Complejidad</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/07_gr%C3%A1ficos_de_complejidad/" class="dropdown-item">07 gr치ficos de complejidad</a>
</li>
                                    
<li>
    <a href="../../06_Organizaci%C3%B3n_y_Complejidad/08_Cierre/" class="dropdown-item">08 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">07 Plt Especificacion y Documentacion <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/01_Repaso/" class="dropdown-item">01 Repaso</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/02_Excepciones/" class="dropdown-item">02 Excepciones</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/03_Modulo_principal/" class="dropdown-item">03 Modulo principal</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/04_Flexibilidad/" class="dropdown-item">04 Flexibilidad</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/05_Especificacion_y_Documentacion/" class="dropdown-item">05 Especificacion y Documentacion</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/06_Estilo/" class="dropdown-item">06 Estilo</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/07_Matplotlib/" class="dropdown-item">07 Matplotlib</a>
</li>
                                    
<li>
    <a href="../../07_Plt_Especificacion_y_Documentacion/08_Cierre/" class="dropdown-item">08 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">08 Fechas Carpetas y Pandas <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/01_Intro/" class="dropdown-item">01 Intro</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/02_Fechas/" class="dropdown-item">02 Fechas</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/03_Archivos_y_Directorios/" class="dropdown-item">03 Archivos y Directorios</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/04_Ordenando_archivos/" class="dropdown-item">04 Ordenando archivos</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/05_Pandas/" class="dropdown-item">05 Pandas</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/06_Series_Temporales/" class="dropdown-item">06 Series Temporales</a>
</li>
                                    
<li>
    <a href="../../08_Fechas_Carpetas_y_Pandas/07_Cierre/" class="dropdown-item">07 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">09 Clases y Objetos <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../09_Clases_y_Objetos/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/01_Intro/" class="dropdown-item">01 Intro</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/02_Clases/" class="dropdown-item">02 Clases</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/03_Herencia/" class="dropdown-item">03 Herencia</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/04_M%C3%A9todos_Especiales/" class="dropdown-item">04 M칠todos Especiales</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/05_Pilas_Colas/" class="dropdown-item">05 Pilas Colas</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/06_Teledeteccion/" class="dropdown-item">06 Teledeteccion</a>
</li>
                                    
<li>
    <a href="../../09_Clases_y_Objetos/07_Cierre/" class="dropdown-item">07 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">10 Generadores e Iteradores <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/01_Intro/" class="dropdown-item">01 Intro</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/02_protocolo_Iteracion/" class="dropdown-item">02 protocolo Iteracion</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/03_iteracion_a_medida/" class="dropdown-item">03 iteracion a medida</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/04_Producers_consumers/" class="dropdown-item">04 Producers consumers</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/05_Mas_generadores/" class="dropdown-item">05 Mas generadores</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/06_PredadorPresa/" class="dropdown-item">06 PredadorPresa</a>
</li>
                                    
<li>
    <a href="../../10_Generadores_e_Iteradores/07_Cierre/" class="dropdown-item">07 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">11 Recursion <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../01_Introduccion/" class="dropdown-item">01 Introduccion</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">02 Recursion</a>
</li>
                                    
<li>
    <a href="../03_Diseno_Recursivo/" class="dropdown-item">03 Diseno Recursivo</a>
</li>
                                    
<li>
    <a href="../05_EjerciciosRec/" class="dropdown-item">05 EjerciciosRec</a>
</li>
                                    
<li>
    <a href="../05_Regresion_Lineal/" class="dropdown-item">05 Regresion Lineal</a>
</li>
                                    
<li>
    <a href="../06_Cierre/" class="dropdown-item">06 Cierre</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">12 Ordenamiento <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../12_Ordenamiento/00_Resumen/" class="dropdown-item">00 Resumen</a>
</li>
                                    
<li>
    <a href="../../12_Ordenamiento/01_Introduccion/" class="dropdown-item">01 Introduccion</a>
</li>
                                    
<li>
    <a href="../../12_Ordenamiento/02_Ordenamiento_sencillo/" class="dropdown-item">02 Ordenamiento sencillo</a>
</li>
                                    
<li>
    <a href="../../12_Ordenamiento/03_Divide_and_Conquer/" class="dropdown-item">03 Divide and Conquer</a>
</li>
                                    
<li>
    <a href="../../12_Ordenamiento/04_introduccion_al_AA/" class="dropdown-item">04 introduccion al AA</a>
</li>
                                    
<li>
    <a href="../../12_Ordenamiento/05_Cierre/" class="dropdown-item">05 Cierre</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../01_Introduccion/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../03_Diseno_Recursivo/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#112-intro-a-la-recursion" class="nav-link">11.2 Intro a la Recursi칩n</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#la-recursion-y-como-puede-ser-que-funcione" class="nav-link">La recursi칩n y c칩mo puede ser que funcione</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#algoritmos-recursivos-y-algoritmos-iterativos" class="nav-link">Algoritmos recursivos y algoritmos iterativos</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p><a href="../Contenidos.md">Contenidos</a> | <a href="../01_Introduccion/">Anterior (1 Introducci칩n)</a> | <a href="../03_Diseno_Recursivo/">Pr칩ximo (3 Dise침o de algoritmos recursivos)</a></p>
<h1 id="112-intro-a-la-recursion">11.2 Intro a la Recursi칩n</h1>
<p>Para esta secci칩n y las dos siguientes hay un <a href="https://youtu.be/C0o-KuY-BNs">video</a> donde introducimos el tema de recursi칩n y vemos algunos ejemplos.</p>
<h2 id="la-recursion-y-como-puede-ser-que-funcione">La recursi칩n y c칩mo puede ser que funcione</h2>
<p>Estamos acostumbrados a escribir funciones que llaman a otras funciones.
Pero lo cierto es que nada impide que en Python (y en muchos otros
lenguajes) una funci칩n se llame a s칤 misma. Y lo m치s interesante es que
esta propiedad, que se llama <em>recursi칩n</em>, permite en muchos casos
encontrar soluciones muy elegantes para determinados problemas.</p>
<p>En materias de matem치tica se estudian los razonamientos por inducci칩n para
probar propiedades de n칰meros enteros y la recursi칩n no es m치s que una
generalizaci칩n de la inducci칩n a m치s estructuras: las listas, las cadenas
de caracteres, las funciones, etc.</p>
<p><img alt="Una imagen recursiva: la publicidad de Cacao Droste." src="../cartel.png" /></p>
<p>A continuaci칩n estudiaremos diversas situaciones en las cuales aparece la
recursi칩n, veremos c칩mo es que esto puede funcionar, algunas situaciones en
las que es conveniente utilizarla y otras situaciones en las que no.</p>
<h3 id="una-funcion-recursiva-matematica">Una funci칩n recursiva matem치tica</h3>
<p>Es muy com칰n tener definiciones inductivas de operaciones. Un caso paradigm치tico es la del factorial. Recordemos que el factorial de un n칰mero entero positivo n es el producto de todos los n칰meros entre 1 y n. La definici칩n usual, inductiva, es la siguiente:</p>
<pre><code>1! = 1 
n! = n * (n-1)! si n&gt;1
</code></pre>
<p>Este tipo de definici칩n se traduce naturalmente en una funci칩n en Python:</p>
<pre><code class="language-python">def factorial(n):
    &quot;&quot;&quot;Precondici칩n: n entero positivo
       Devuelve: n!&quot;&quot;&quot;
    if n == 1:
        return 1
    return n * factorial(n - 1)
</code></pre>
<p>칄sta es la ejecuci칩n del factorial para <code>n = 1</code> y para <code>n = 3</code>.</p>
<pre><code class="language-python">&gt;&gt;&gt; factorial(1)
1
&gt;&gt;&gt; factorial(3)
6
</code></pre>
<p>El sentido de la instrucci칩n
<code>n * factorial(n - 1)</code> es exactamente el mismo que el de la
definici칩n inductiva: para calcular el factorial de <code>n</code> se debe multiplicar
<code>n</code> por el factorial de <code>n-1</code>.</p>
<p>Dos piezas fundamentales para garantizar el funcionamiento de este programa
son:</p>
<ul>
<li>Que se defina un <em>caso base</em> (en este caso la indicaci칩n <em>no recursiva</em> de c칩mo calcular <code>factorial(1)</code>).</li>
<li>Que el argumento de la funci칩n respete la precondici칩n de que <code>n</code> debe ser un entero mayor o igual que 1.</li>
</ul>
<p>No es incre칤ble que esto pueda funcionar adecuadamente en un lenguaje
de programaci칩n?</p>
<h3 id="ejercicio-111">Ejercicio 11.1:</h3>
<p>Para poder analizar qu칠 sucede a cada paso de la ejecuci칩n de la funci칩n,
utilizaremos una versi칩n m치s detallada del mismo c칩digo, en la que el resultado
de cada paso se asigna a una variable.</p>
<pre><code class="language-python">def factorial(n):
    if n == 1:
        r = 1
        return r

    f = factorial(n-1)
    r = n * f
    return r
</code></pre>
<p>Esta porci칩n de c칩digo funciona exactamente igual que la anterior, pero nos
permite ponerles nombres a los resultados intermedios de cada operaci칩n
para poder estudiar qu칠 sucede a cada paso. Analiz치 con tu debugger la ejecuci칩n de <code>factorial(3)</code>.</p>
<h2 id="algoritmos-recursivos-y-algoritmos-iterativos">Algoritmos recursivos y algoritmos iterativos</h2>
<p>Llamaremos <em>algoritmos recursivos</em> a aquellos que realizan llamadas
recursivas para llegar al resultado, y <em>algoritmos iterativos</em> a
aquellos que llegan a un resultado a trav칠s de una iteraci칩n mediante un
ciclo definido o indefinido.</p>
<p>Todo algoritmo recursivo puede expresarse como iterativo y viceversa.  Sin
embargo, seg칰n las condiciones del problema a resolver podr치 ser preferible
utilizar la soluci칩n recursiva o la iterativa.</p>
<p>Una posible implementaci칩n iterativa de la funci칩n <code>factorial</code>
vista anteriormente ser칤a:</p>
<pre><code class="language-python">def factorial(n):
    &quot;&quot;&quot;Precondici칩n: n entero positivo
       Devuelve: n!&quot;&quot;&quot;
    fact = 1
    for num in range(n, 1, -1):
        fact *= num
    return fact
</code></pre>
<p>Se puede ver que en este caso no es necesario incluir un caso base, ya que
el mismo ciclo incluye una condici칩n de corte, pero que s칤 es necesario
incluir un acumulador, que en el caso recursivo no era necesario.</p>
<p>Por otro lado, si hici칠ramos el seguimiento de esta funci칩n, como se hizo
para la versi칩n recursiva, ver칤amos que la pila de ejecuci칩n siempre tiene un
칰nico marco, en el cual se van modificando los valores de <code>num</code> y
<code>fact</code>.</p>
<p>Es por esto que, en general, las versiones recursivas de los algoritmos
utilizan m치s memoria (ya que la pila de ejecuci칩n se guarda en
memoria) pero suelen ser m치s elegantes.</p>
<h3 id="un-ejemplo-de-recursion-elegante">Un ejemplo de recursi칩n elegante</h3>
<p>Consideremos ahora otro problema que puede ser resuelto de forma elegante
mediante un algoritmo recursivo.</p>
<p>La funci칩n <code>potencia(b, n)</code> que vimos cuando hablamos de invariantes en la <a href="../../07_Plt_Especificacion_y_Documentacion/05_Especificacion_y_Documentacion/#invariantes-de-ciclo">Secci칩n 7.5</a>,
realiza <code>n</code> iteraciones para poder obtener el valor de <code>b^n</code>.</p>
<p>Sin embargo, es posible optimizarla teniendo en cuenta los siguientes hechos:</p>
<pre><code>b^n = b^(n/2) * b^(n/2)                si n es par, y
b^n = b^((n-1)/2) * b^((n-1)/2) * b    si n es impar.
</code></pre>
<p>Estas ecuaciones nos permiten dise침ar un algoritmo much칤simo m치s eficiente. Esta situaci칩n guarda cierta analog칤a con el problema de la b칰squeda en una lista ordenada. La idea es, en un paso, reducir <em>el tama침o</em> del problema a la mitad.</p>
<p>Antes de programar cualquier funci칩n recursiva es necesario decidir cu치l
ser치 el <em>caso base</em> y cu치l el <em>paso recursivo</em>.  Para esta funci칩n,
tomaremos <code>n=0</code> como el caso base (devolveremos <code>1</code>). El paso
recursivo tendr치 dos partes, correspondientes a los dos posibles grupos de
valores de <code>n</code>.</p>
<pre><code class="language-python">def potencia(b,n):
    &quot;&quot;&quot;Precondici칩n: n &gt;= 0
       Devuelve: b^n.&quot;&quot;&quot;

    if n &lt;= 0:
        # caso base
        return 1

    if n % 2 == 0:
        # caso n par
        p = potencia(b, n // 2)
        return p * p
    else:
        # caso n impar
        p = potencia(b, (n - 1) // 2)
        return p * p * b
</code></pre>
<p>El uso de la variable <code>p</code> en este caso no es optativo, ya que
es una de las ventajas principales de esta implementaci칩n: se aprovecha el
resultado calculado en lugar de tener que calcularlo dos veces. Vemos que
este c칩digo funciona correctamente:</p>
<pre><code class="language-python">&gt;&gt;&gt; potencia(2, 10)
1024
&gt;&gt;&gt; potencia(3, 3)
27
&gt;&gt;&gt; potencia(5, 0)
1
</code></pre>
<p>El orden de las llamadas, haciendo un seguimiento simplificado de la
funci칩n ser치:</p>
<pre><code>potencia(2, 10)
  potencia(2, 5)
    potencia(2, 2)
      potencia(2, 1)
        potencia(2, 0)
          return 1
        return 1 * 1 * 2
      return 2 * 2
    return 4 * 4 * 2
  return 32 * 32
return 1024
</code></pre>
<p>Se puede ver, entonces, que para calcular <code>2^10</code> se realizaron 5 llamadas a
<code>potencia</code>, mientras que en la implementaci칩n m치s sencilla se
realizaban 10 iteraciones. Y esta optimizaci칩n ser치 cada vez m치s importante
a medida que aumenta <code>n</code>: por ejemplo para <code>n = 100</code> se
realizar치n 8 llamadas recursivas, y para <code>n = 1000</code> 11 llamadas.</p>
<p>Es posible transformar este algoritmo recursivo en un algoritmo iterativo. Para ello es necesario <em>simular</em> la pila de llamadas a funciones mediante una pila que almacene los valores que sean necesarios.  En este caso, lo que apilaremos ser치 si el valor de <code>n</code> es par o no.</p>
<pre><code class="language-python">def potencia(b, n):
    &quot;&quot;&quot;Precondici칩n: n &gt;= 0
       Devuelve: b^n.&quot;&quot;&quot;

    pila = []
    while n &gt; 0:
        if n % 2 == 0:
            pila.append(True)
            n //= 2
        else:
            pila.append(False)
            n = (n - 1) // 2

    p = 1
    while pila:
        es_par = pila.pop()
        if es_par:
            p *= p
        else:
            p *= p * b

    return p
</code></pre>
<p>Como se puede ver, este c칩digo es mucho m치s complejo que la versi칩n recursiva.
Esto se debe a que utilizando recursi칩n el uso de la pila de llamadas a
funciones oculta el proceso de apilado y desapilado y permite concentrarse
en la parte importante del algoritmo.</p>
<h3 id="un-ejemplo-de-recursion-poco-eficiente">Un ejemplo de recursi칩n poco eficiente</h3>
<p>Del ejemplo anterior se podr칤a deducir que siempre es mejor utilizar algoritmos
recursivos; sin embargo --como dijimos antes-- cada situaci칩n merece ser analizada por separado.</p>
<p>Un ejemplo cl치sico en el cual la recursi칩n tiene un resultado muy poco
eficiente es el de los n칰meros de Fibonacci. La sucesi칩n de Fibonacci est치
definida por la siguiente relaci칩n:</p>
<pre><code>F(0) = 0
F(1) = 1
F(n) = F(n - 1) + F(n - 2)  si n &gt; 1
</code></pre>
<p>Los primeros n칰meros de esta sucesi칩n son: <code>0</code>, <code>1</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>5</code>, <code>8</code>,
<code>13</code>, <code>21</code>, <code>34</code>, <code>55</code>. La sucesi칩n tiene numerosas aplicaciones en computaci칩n y matem치tica y tambi칠n aparece en configuraciones biol칩gicas, como en las flores de girasoles, en la configuraci칩n de los anan치s o las pi침as de las con칤feras, en la reproducci칩n de conejos, etc. La siguiente imagen muestra su uso para aproximar una espiral 치urea:</p>
<p><img alt="Espiral a partir de la sucesi칩n de Fibonacci" src="./280px-Fibonacci_spiral_34.bmp" /></p>
<p>Dada la definici칩n recursiva de la sucesi칩n, puede resultar muy tentador
escribir una funci칩n que calcule en valor de <code>fib(n)</code> de la siguiente
forma:</p>
<pre><code class="language-python">def fib(n):
    &quot;&quot;&quot;Precondici칩n: n &gt;= 0.
       Devuelve: el n칰mero de Fibonacci n칰mero n.&quot;&quot;&quot;
    if n == 0:
        res = 0
    elif n == 1:
        res = 1
    else:
        res = fib(n - 1) + fib(n - 2)
    return res
</code></pre>
<p>Si bien esta implementaci칩n es muy sencilla y elegante, tambi칠n es extremadamente poco eficiente: para calcular <code>fib(n - 1)</code> es necesario calcular
<code>fib(n - 2)</code>, que luego volver치 a ser calculado para obtener el valor
<code>fib(n)</code>.</p>
<p>Por ejemplo, una simple llamada a <code>fib(5)</code>, generar칤a
recursivamente todas las llamadas ilustradas en el siguiente gr치fico. Puede verse que muchas de estas llamadas est치n repetidas, generando un
total de 15 llamadas a la funci칩n <code>fib</code>, s칩lo para devolver el
valor <code>F(5)</code>.</p>
<p><img alt="츼rbol de llamadas para fib(5)" src="../fib5.jpg" /></p>
<p>En este caso, ser치 mucho m치s conveniente utilizar una versi칩n iterativa,
que vaya almacenando los valores de las dos variables anteriores a medida
que los va calculando.</p>
<pre><code class="language-python">def fib(n):
    &quot;&quot;&quot;Precondici칩n: n &gt;= 0.
       Devuelve: el n칰mero de Fibonacci n칰mero n.&quot;&quot;&quot;
    if n == 0 or n == 1:
        return n
    ant2 = 0
    ant1 = 1
    for i in range(2, n + 1):
        fibn = ant1 + ant2
        ant2 = ant1
        ant1 = fibn
    return fibn
</code></pre>
<p>Vemos que el caso base es el mismo para ambos algoritmos, pero que en el
caso iterativo se calcula el n칰mero de Fibonacci de forma incremental, de
modo que para obtener el valor de <code>fib(n)</code> se har치n <code>n-1</code>
iteraciones.</p>
<p><em>En resumen</em>: vimos que un algoritmo recursivo <strong>no</strong> es necesariamente mejor que uno iterativo, ni viceversa. En cada situaci칩n es conveniente analizar cu치l algoritmo provee una soluci칩n m치s clara y eficiente. </p>
<p><a href="../Contenidos.md">Contenidos</a> | <a href="../01_Introduccion/">Anterior (1 Introducci칩n)</a> | <a href="../03_Diseno_Recursivo/">Pr칩ximo (3 Dise침o de algoritmos recursivos)</a></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
